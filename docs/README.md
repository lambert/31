# 31 Power Supply Unit

Author: Bert Timmerman

Organisation: Me Organized ??

Date: 20201223

## Specification.

### Description.

The .

### Functions.

| ID  | Description |
|-----|-------------|
| 001 | Power ON / OFF |
| 002 | 230 VAC to 18 V AC Transformation |
| 003 | AC to DC rectification, provide an unregulated voltage +U V DC (Imax = 500 mA) |
| 004 | AC to DC rectification, provide an unregulated voltage -U V DC (Imax = 500 mA) |
| 005 | Provide a regulated voltage of +15 V DC (Imax = 500 mA) |
| 006 | Provide a regulated voltage of -15 V DC (Imax = 500 mA) |
| 007 | Current to voltage conversion |
| 008 | Current to voltage conversion |
| 009 | Switch |
| 010 | Operational Amplifier (differential) |
| 011 | Operational Amplifier (gain) |
| 012 | Display logic |

### Modes of operation.

| ID  | Description |
|-----|-------------|
| 001 | Provide an unregulated voltage. |
| 002 | Provide a regulated voltages. |

These modes are not mutual exclusive.
The user has to chose a mode of operation that not exceeds a total
current of 500 mA for both regulated  and unregulated voltages. 

### Inputs.

| ID   | Description | Location |
|------|-------------|----------|
| P300 | DIN 41617 31-pin connector (male) | main pcb |

### Controls.

| ID   | Description | Location |
|------|-------------|----------|
| S201 | Power ON/OFF | front panel |
| S202 | Toggle current measurement for positive or negative supply voltage | front panel |

### Outputs.

| ID   | Description | Location |
|------|-------------|----------|
| P300 | DIN 41617 31-pin connector (male) | main pcb |

### Indicators.

| ID    | Description | Location |
|-------|-------------|----------|
| D201 - D216  | 16 LEDs indicating the output current (0 - 500 mA) | front pcb |

### Power supply.

230 V AC is obtained from the back panel bus.

+15 V DC/- 15 V DC is delivered to the back panel bus.

+U DC / -U DC is delivered to the back panel bus.

### Protection and fail-safes.

| ID | Description | Location |
|----|-------------|----------|
| .  | .           | main pcb |

### Replaceable parts.

| ID | Description | Location |
|----|-------------|----------|
| U201 | UAA170 | front pcb |
| U303 | UA741 | main pcb |
| U304 | UA741 | main pcb |

### Connectors.

| ID | Description | Location |
|----|-------------|----------|
| P300  | DIN 41617 31-pin connector (male) | main pcb |
| TP301 | Test point for GND | main pcb |
| TP201 | Test point for GND | front pcb |

### Physical dimensions and form factors.

| Description           | Dimensions                      |
|-----------------------|---------------------------------|
| Main pcb form factor  | Eurocard 3 HE: 160 mm x 100 mm. |
| Front pcb form factor | Eurocard 3 HE x 10 TE.          |

## Basic Design.

### Schematic entry.

#### Schematic files.

Schematics are prepared with gschem version 1.6.2.20110115, a schematic
entry application part of the GPL'd EDA suite of tools "gschem and
friends" (geda-gaf).

Attributes for symbols are managed either from within gschem, or with
gattrib, the attribute editing application from the same suite of tools.

Schematic files can be found here: [link to schematic files](../ecad/gschem)

#### Design Rule Check (DRC).

After schematic entry a check is done by running gnetlist with the
"geda" backend as to visually check for missing reference designators,
missing device values, shorted nets and not connected pins on symbols.

The gnetlist backend "geda" will list components, renamed nets, and
resulting connectivity of nets in a structured list.

DRC files can be found here: [link to DRC files](../ecad/gschem/DRC)

#### Bill Of materials (BOM).

Preliminary BOMs are to be generated from schematics by running gnetlist with the "bom" backend.

BOM files can be found here: [link to BOM files](../ecad/gschem/BOM)

### Calculations.

...

### Simulations.

#### gnucap simulations.

##### Schematic files (graphic representation only).

Schematic representations of circuits for simulation are to be prepared with
gschem.

##### Input files.

Various circuit files (*.ckt) contain subcircuits (operational
amplifier) and calls to (diode and transistor) models included in the
gnucap software package.

##### Data files.

For every module, section and response type, a single data file was
generated by gnucap by means of a Makefile rule.

##### Data processing files.

For every required output graph a gnuplot post processing job was done.

##### Output files.

Output files are typically Portable Network Graphic files (*.png).

Default size of graphs is 640 by 480 pixels.

Detailed graphs were made where required.

##### Discussion of results.

All input files were processed with gnucap version 0.35 and all data
files were processed with gnuplot version 4.2 patchlevel 6.

## Design For Manufacturing.

### Schematic entry.

#### Schematic files.

Schematics are prepared with gschem version 1.6.2.20110115, a schematic
entry application part of the GPL'd EDA suite of tools "gschem and
friends" (geda-gaf).

Attributes for symbols are managed either from within gschem, or with
gattrib, the attribute editing application from the same suite of tools.

Schematic files can be found here: [link to schematic files](../ecad/gschem)

#### Design Rule Check.

After schematic entry a check is done by running gnetlist with the
"geda" backend as to visually check for missing reference designators,
missing device values, shorted nets and not connected pins on symbols.

The gnetlist backend "geda" will list components, renamed nets, and
resulting connectivity of nets in a structured list.

DRC files can be found here: [link to DRC files](../ecad/gschem/DRC)

#### Netlists.

Connectivity for the pcb layout editor is generated with gnetlist from
the schematics.

Pin renaming for the pcb layout editor is generated with gnetlist from
the schematics.

#### Bill Of Materials.

Final BOMs are generated from schematics by running gnetlist with the "bom" backend.

BOM files can be found here: [link to BOM files](../ecad/gschem/BOM)

### Printed Circuit Board design.

#### Layout files.

[link to layout files](../ecad/pcb/)

#### Visual Testing files.

[link to eyecandy](../ecad/pcb/eyecandy/)

#### PDF plot files.

[link to plot files](../ecad/pcb/plotfiles/)

#### Gerber files.

[link to Gerber files](../ecad/pcb/fab/)

#### Bill Of Materials.

[link to BOMs](../ecad/pcb/bom/)

#### Pick-and-Place files.

[link to pick-and-place](../ecad/pcb/pnp/)

#### IPC-D-356 netlist files.

[link to IPC-D-356 files](../ecad/pcb/test/)

## Manufacturing.

### Printed Circuit Boards.

Printed Circuit Boards were purchased from [OSH Park](https://oshpark.com/).

#### Quotations.

[link to OSH Park fabrication services](purchase/OSH_Park/fabrication_services.md)

#### Purchase Orders.

[link to OSH Park directory](purchase/OSH_Park/)

#### QA/QC Testing.

...

### Printed Circuit Assembly.

Parts were purchased from [Conrad](https://www.conrad.com).

#### Quotations.

...

#### Purchase Orders.

...

#### QA/QC Testing.

...

## Testing and Test Records.

...


# Appendix A: Pinout DIN 41617 31-pin connector on the Main PCB.

| Pin | Netname | Description | In Use |
|-----|---------|-------------|--------|
| 1   | MUX_OUT        | Multiplexer output               | NC |
| 2   | REG_OUT        | Storage register output          | NC |
| 3   | DB_OUT         | dB output                        | NC |
| 4   | NOISE_OUT      | Noise Generator output           | NC |
| 5   | RFUNCGEN_OUT   | Random Function Generator output | NC |
| 6   | AM_OUT         | AM output                        | NC |
| 7   | BURST_OUT      | Burst Generator output           | NC |
| 8   | SWEEP_OUT      | Sweep Generator output           | NC |
| 9   | FUNC_OUT       | Function Generator output        | NC |
| 10  | AMPL_OUT       | Amplitude output                 | NC |
| 11  | FUNC_0CR       | Function Generator zero crossing | NC |
| 12  | SWEEP_SYNC     | Sweep synchronisation            | NC |
| 13  | BURST_OUT      | Burst synchronisation            | NC |
| 14  | DP_CODE        | Decimal Point code               | NC |
| 15  | CH_DBL         | Channel doubleing                | NC |
| 16  | MUX_CLOCK      | Multiplexer clock                | NC |
| 17  | MUX_RESET      | Multiplexer reset                | NC |
| 18  | INHIBIT        | +/- inhibit                      | NC |
| 19  | DM_IN          | Digital Meter input              | NC |
| 20  | DM_COMMON      | Digital Meter common             | NC |
| 21  | LM_IN          | LED Meter input                  | NC |
| 22  | LM_COMMON      | LED Meter common                 | NC |
| 23  | NEG_UVAR       | -Uvar                            | NC |
| 24  | POS_UVAR       | +Uvar                            | NC |
| 25  | POS_U          | +U                               | yes |
| 26  | NEG_U          | -U                               | yes |
| 27  | MAINS_230VAC_F | Mains supply 230 V AC phase      | yes |
| 28  | MAINS_230VAC_N | Mains supply 230 V AC neutral    | yes |
| 29  | NEG_15VDC      | -15 V DC                         | yes |
| 30  | GND            | Ground                           | yes |
| 31  | POS_15VDC      | +15 V DC                         | yes |

